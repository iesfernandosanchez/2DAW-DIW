/*!
 * @project        Fiizy OÜ
 * @name           fanalytics.72c8b31504a607c3d4c5.js
 * @author         Fiizy OÜ
 * @build          Fri Nov 12 2021 06:09:21 GMT+0000 (Coordinated Universal Time)
 * @copyright      Copyright (c) 2021 Fiizy OÜ
 *
 */
(self.webpackChunkfiizy_cms=self.webpackChunkfiizy_cms||[]).push([["fanalytics"],{172:function(e){
/*! For license information please see index.js.LICENSE.txt */
self,e.exports=(()=>{var e={228:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.default=e.exports,e.exports.__esModule=!0},858:e=>{e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},713:e=>{e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},318:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},884:e=>{e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}},e.exports.default=e.exports,e.exports.__esModule=!0},521:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},38:(e,t,n)=>{var r=n(858),o=n(884),i=n(379),a=n(521);e.exports=function(e,t){return r(e)||o(e,t)||i(e,t)||a()},e.exports.default=e.exports,e.exports.__esModule=!0},8:e=>{function t(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=t=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),t(n)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0},379:(e,t,n)=>{var r=n(228);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},645:(e,t,n)=>{"use strict";var r,o,i;e=n.nmd(e);var a,s=n(318),c=s(n(713)),u=s(n(38)),l=s(n(8));function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}self,a=function(){return e={612:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.eventBusEvents=t.pushEngageStatusCodes=t.steps=t.tldRegionsMap=t.countryIsoCodes=t.GOOGLE_ANALYTICS_TRACKER_NAME=t.COOKIE_EXPIRES_TIME=t.COOKIE_GOOGLE_CLICK_IDENTIFIER_EXPIRE_TIME=t.COOKIE_CHANNEL_EXPIRE_TIME=t.COOKIE_PUBLISHER_PARAMS_NAME=t.COOKIE_GOOGLE_CLICK_IDENTIFIER_NAME=t.COOKIE_CHANNEL_NAME=void 0,t.COOKIE_CHANNEL_NAME="XC",t.COOKIE_GOOGLE_CLICK_IDENTIFIER_NAME="GCLID",t.COOKIE_PUBLISHER_PARAMS_NAME="XP",t.COOKIE_CHANNEL_EXPIRE_TIME=4/24,t.COOKIE_GOOGLE_CLICK_IDENTIFIER_EXPIRE_TIME=30,t.COOKIE_EXPIRES_TIME=540,t.GOOGLE_ANALYTICS_TRACKER_NAME="CustomSingleGATracker",t.countryIsoCodes={MEXICO:"MX",ARGETINA:"AR",BRAZIL:"BR",COLUMBIA:"CO",DOMINICAN_REPUBLIC:"DO",PERU:"PE",VENEZUELA:"VE",SOUTH_AFRIGA:"ZA",SPAIN:"ES",UK:"GB",POLAND:"PL",USA:"US"},t.tldRegionsMap={es:t.countryIsoCodes.SPAIN,mx:t.countryIsoCodes.MEXICO,pe:t.countryIsoCodes.PERU},t.steps={LastProductStep:70,CampaignStep:80,FinishStep:100},t.pushEngageStatusCodes={subscribed:1,denied:2,closed:3,somethingWentWrong:0,urlNotAllowed:20,browserNotSupported:21},t.eventBusEvents={refreshCredentials:"auth:refresh-credentials",saveCredentials:"auth:save-credentials",logOut:"auth:logout",appLoaded:"app:loaded",newDeepLink:"app:new-app-link",processStart:"app:process-start",processReset:"app:process-reset"}},808:function(e,t,n){var r,o,i;void 0===(o="function"==typeof(r=i=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in i)i[c]&&(s+="; "+c,!0!==i[c]&&(s+="="+i[c].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var s=i[a].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=t(s[0]);if(c=(r.read||r)(c,u)||t(c),n)try{c=JSON.parse(c)}catch(e){}if(o[u]=c,e===u)break}catch(e){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return a(e,!1)},o.getJSON=function(e){return a(e,!0)},o.remove=function(t,n){i(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))})?r.call(t,n,t,e):r)||(e.exports=o),e.exports=i()},891:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getNewChannelHash=t.resetXcInXqCookie=t.getUserDeviceHash=void 0;var a=i(n(827)),s=n(316);Object.defineProperty(t,"getUserDeviceHash",{enumerable:!0,get:function(){return s.getUserDeviceHash}});var c=n(628);Object.defineProperty(t,"resetXcInXqCookie",{enumerable:!0,get:function(){return c.resetXcInXqCookie}});var u=n(309);Object.defineProperty(t,"getNewChannelHash",{enumerable:!0,get:function(){return u.getNewChannelHash}}),t.default=a},827:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getFbpAndFbc=t.invalidatePublisherParams=t.getAnalyticsClientID=t.getGoogleClickIdentifier=t.setGoogleClickIdentifier=t.getSavedChannel=t.setChannel=void 0;var s=a(n(808)),l=i(n(612)),f=n(628);t.setChannel=function(e){e&&(s.default.set(l.COOKIE_CHANNEL_NAME,e,{expires:l.COOKIE_CHANNEL_EXPIRE_TIME}),f.attributeXqCookie(e))},t.getSavedChannel=function(){return s.default.get(l.COOKIE_CHANNEL_NAME)||null},t.setGoogleClickIdentifier=function(e){e&&(e.get("gclid")?s.default.set(l.COOKIE_GOOGLE_CLICK_IDENTIFIER_NAME,e.get("gclid"),{expires:l.COOKIE_GOOGLE_CLICK_IDENTIFIER_EXPIRE_TIME}):e.get("gbraid")?s.default.set(l.COOKIE_GOOGLE_CLICK_IDENTIFIER_NAME,e.get("gbraid"),{expires:l.COOKIE_GOOGLE_CLICK_IDENTIFIER_EXPIRE_TIME}):e.get("wbraid")&&s.default.set(l.COOKIE_GOOGLE_CLICK_IDENTIFIER_NAME,e.get("wbraid"),{expires:l.COOKIE_GOOGLE_CLICK_IDENTIFIER_EXPIRE_TIME}))},t.getGoogleClickIdentifier=function(){return s.default.get(l.COOKIE_GOOGLE_CLICK_IDENTIFIER_NAME)||null},t.getAnalyticsClientID=function(){try{if(window.ga&&"function"==typeof window.ga&&window.ga.getByName){var e=window.ga.getByName(l.GOOGLE_ANALYTICS_TRACKER_NAME);if(e){var t=e.get("clientId");if(t)return t}}if(window.analytics_client_id)return window.analytics_client_id}catch(e){return null}return null},t.invalidatePublisherParams=function(e,t){e!==t&&s.default.remove(l.COOKIE_PUBLISHER_PARAMS_NAME)},t.getFbpAndFbc=function(){var e=s.default.get("_fbc")||null,t=s.default.get("_fbp")||null;return Object.entries({fbc:e,fbp:t}).reduce((function(e,t){var n=(0,u.default)(t,2),r=n[0],o=n[1];return e&&null!==o?Object.assign(Object.assign({},e),(0,c.default)({},r,o)):e}),{})}},316:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getUserDeviceHash=void 0;var o=r(n(808)),i=n(877);t.getUserDeviceHash=function(){var e=o.default.get("deviceID");if(e)return e;var t=i.v4();return o.default.set("deviceID",t,{expires:10950}),t}},309:function(e,t){function n(e){return!a(e)&&!!e}function r(e,t,n){return i(n.seo)&&c(t)&&u(t,e)}function o(e){if(!e)return null;var t=e.get("xc");return t?t.indexOf(",")?t.split(",")[0]:t:null}function i(e){return!(!e||""===e.trim())}function a(e){return!!e&&s(e,[{name:"currentLocation",pattern:"".concat(l.matchBeforeQuery).concat(window.location.hostname).concat(l.endsWithForwardSlash),clickId:""}])}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;for(var n in t)if(new RegExp(t[n].pattern).test(e))return!0;return!1}function c(e){return!!e&&s(e)}function u(e,t){for(var n in f)if(new RegExp(f[n].pattern).test(e)&&t.get(f[n].clickId))return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.isPublisherClickIdParams=t.isSeoReferral=t.isReferrerInPatterns=t.doesCurrentDomainMatchReferrerDomain=t.isChannelSet=t.channelFromUrlParams=t.isReferralSeo=t.isExternalReferrer=t.getNewChannelHash=void 0,t.getNewChannelHash=function(e){var t=e.urlParams,a=e.referrer,s=e.channelHashes,c=e.forceChannel,u=o(t);if(i(u))return u;if(c&&i(s.default))return s.default;if(n(a)){if(r(t,a,s))return s.seo;if(i(s.default))return s.default}return i(s.saved)?s.saved:s.calculator},t.isExternalReferrer=n,t.isReferralSeo=r,t.channelFromUrlParams=o,t.isChannelSet=i,t.doesCurrentDomainMatchReferrerDomain=a,t.isReferrerInPatterns=s,t.isSeoReferral=c,t.isPublisherClickIdParams=u;var l={matchBeforeQuery:"^((http|https):\\/\\/)(w{3}\\.)?",anyTopLevelDomain:"(.[a-z]{2,3})?(.[a-z]{2,3})\\/",ampProject:"-[a-z]{2,3}(-[a-z]{2,3})?\\.cdn\\.ampproject",endsWithAMP:".+/amp(/)?$",endsWithForwardSlash:"\\/"},f=[{name:"google",clickId:"gclid",pattern:"".concat(l.matchBeforeQuery,"google").concat(l.anyTopLevelDomain)},{name:"google",clickId:"gbraid",pattern:"".concat(l.matchBeforeQuery,"google").concat(l.anyTopLevelDomain)},{name:"google",clickId:"wbraid",pattern:"".concat(l.matchBeforeQuery,"google").concat(l.anyTopLevelDomain)},{name:"bing",clickId:"msclkid",pattern:"".concat(l.matchBeforeQuery,"bing").concat(l.anyTopLevelDomain)},{name:"solcreditoAmpProject",clickId:"gclid",pattern:"".concat(l.matchBeforeQuery,"solcredit(o)?").concat(l.ampProject)},{name:"solcreditoEndsWithAMP",clickId:"gclid",pattern:"".concat(l.matchBeforeQuery,"solcredit(o)?").concat(l.endsWithAMP)},{name:"finzmoAmpProject",clickId:"gclid",pattern:"".concat(l.matchBeforeQuery,"finzmo").concat(l.ampProject)},{name:"finzmoEndsWithAMP",clickId:"gclid",pattern:"".concat(l.matchBeforeQuery,"finzmo").concat(l.endsWithAMP)},{name:"fiizyAmpProject",clickId:"gclid",pattern:"".concat(l.matchBeforeQuery,"fiizy").concat(l.ampProject)},{name:"fiizyEndsWithAMP",clickId:"gclid",pattern:"".concat(l.matchBeforeQuery,"fiizy").concat(l.endsWithAMP)}]},628:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.resetXcInXqCookie=t.attributeXqCookie=void 0;var o=r(n(808)),i=n(827);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;o.default.set("xq","?".concat(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=s(window.location.search),r=Object.assign(Object.assign(Object.assign({},e),n),i.getFbpAndFbc());"null"===r.fbp&&delete r.fbp,"null"===r.fbc&&delete r.fbc;var o=i.getGoogleClickIdentifier();return o&&(r.gclid=o),r.xc=t,Object.entries(r).map((function(e){var t=(0,u.default)(e,2),n=t[0],r=t[1];return"".concat(n,"=").concat(r)})).join("&")}(e,t)),{expires:30})}function s(e){if(!e)return{};var t=e.split("?")[1];if(!t)return{};var n,r={},o=f(t.split("&"));try{for(o.s();!(n=o.n()).done;){var i=n.value.split("="),a=(0,u.default)(i,2),s=a[0],c=a[1];2===i.length?r[s]=decodeURIComponent(c):r[s]=""}}catch(e){o.e(e)}finally{o.f()}return r}t.attributeXqCookie=function(e){var t=s(o.default.get("xq")||"");if(t.xc!==e)a({},e);else{var n=s(window.location.search);t.xps&&!n.xps&&delete t.xps,a(t,e)}},t.resetXcInXqCookie=function(e){a(s(o.default.get("xq")||""),e)}},877:function(e,t,n){var r=n(570),o=n(171),i=o;i.v1=r,i.v4=o,e.exports=i},327:function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,o=t;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},217:function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},570:function(e,t,n){var r,o,i=n(217),a=n(327),s=0,c=0;e.exports=function(e,t,n){var u=t&&n||0,l=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:o;if(null==f||null==d){var p=i();null==f&&(f=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=o=16383&(p[6]<<8|p[7]))}var _=void 0!==e.msecs?e.msecs:(new Date).getTime(),h=void 0!==e.nsecs?e.nsecs:c+1,E=_-s+(h-c)/1e4;if(E<0&&void 0===e.clockseq&&(d=d+1&16383),(E<0||_>s)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=_,c=h,o=d;var I=(1e4*(268435455&(_+=122192928e5))+h)%4294967296;l[u++]=I>>>24&255,l[u++]=I>>>16&255,l[u++]=I>>>8&255,l[u++]=255&I;var v=_/4294967296*1e4&268435455;l[u++]=v>>>8&255,l[u++]=255&v,l[u++]=v>>>24&15|16,l[u++]=v>>>16&255,l[u++]=d>>>8|128,l[u++]=255&d;for(var C=0;C<6;++C)l[u+C]=f[C];return t||a(l)}},171:function(e,t,n){var r=n(217),o=n(327);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[i+s]=a[s];return t||o(a)}}},t={},function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}(891);var e,t},"object"==(0,l.default)(t)&&"object"==(0,l.default)(e)?e.exports=a():(o=[],void 0===(i="function"==typeof(r=a)?r.apply(t,o):r)||(e.exports=i))},612:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.eventBusEvents=t.pushEngageStatusCodes=t.steps=t.tldRegionsMap=t.countryIsoCodes=t.GOOGLE_ANALYTICS_TRACKER_NAME=t.COOKIE_EXPIRES_TIME=t.COOKIE_GOOGLE_CLICK_IDENTIFIER_EXPIRE_TIME=t.COOKIE_CHANNEL_EXPIRE_TIME=t.COOKIE_PUBLISHER_PARAMS_NAME=t.COOKIE_GOOGLE_CLICK_IDENTIFIER_NAME=t.COOKIE_CHANNEL_NAME=void 0,t.COOKIE_CHANNEL_NAME="XC",t.COOKIE_GOOGLE_CLICK_IDENTIFIER_NAME="GCLID",t.COOKIE_PUBLISHER_PARAMS_NAME="XP",t.COOKIE_CHANNEL_EXPIRE_TIME=4/24,t.COOKIE_GOOGLE_CLICK_IDENTIFIER_EXPIRE_TIME=30,t.COOKIE_EXPIRES_TIME=540,t.GOOGLE_ANALYTICS_TRACKER_NAME="CustomSingleGATracker",t.countryIsoCodes={MEXICO:"MX",ARGETINA:"AR",BRAZIL:"BR",COLUMBIA:"CO",DOMINICAN_REPUBLIC:"DO",PERU:"PE",VENEZUELA:"VE",SOUTH_AFRIGA:"ZA",SPAIN:"ES",UK:"GB",POLAND:"PL",USA:"US"},t.tldRegionsMap={es:t.countryIsoCodes.SPAIN,mx:t.countryIsoCodes.MEXICO,pe:t.countryIsoCodes.PERU},t.steps={LastProductStep:70,CampaignStep:80,FinishStep:100},t.pushEngageStatusCodes={subscribed:1,denied:2,closed:3,somethingWentWrong:0,urlNotAllowed:20,browserNotSupported:21},t.eventBusEvents={refreshCredentials:"auth:refresh-credentials",saveCredentials:"auth:save-credentials",logOut:"auth:logout",appLoaded:"app:loaded",newDeepLink:"app:new-app-link",processStart:"app:process-start",processReset:"app:process-reset"}},857:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.eventbus=void 0,t.eventbus=function(e){return{_listeners:{},_queue:{},isLoading:!0,init:function(e){return this._getReference(e)},_getReference:function(e){var t=this,n="evBus".concat(e);return window.hasOwnProperty(n)?window[n]:(window[n]=this,setTimeout((function(){t._emptyQueue()}),5e3),this)},_emptyQueue:function(){var e=this;Object.keys(this._queue).forEach((function(t){e._queue[t]=[]})),this.isLoading=!1},_addToQueue:function(e,t){this._hasQueue(e)||(this._queue[e]=[]),this._queue[e].push(t||{})},_applyQueue:function(e,t){this._hasQueue(e)&&this._queue[e].forEach((function(n){var r=new CustomEvent(e,{detail:n});t(r)}))},_hasListeners:function(e){return this._listeners.hasOwnProperty(e)},_hasQueue:function(e){return this._queue.hasOwnProperty(e)},on:function(e,t){this._hasListeners(e)||(this._listeners[e]=[]),this._listeners[e].push(t),this.isLoading&&this._applyQueue(e,t)},off:function(e,t){if(this._hasListeners(e)){var n=this._listeners[e].indexOf(t);n>=0&&this._listeners[e].splice(n,1)}},emit:function(e,t){if(this.isLoading&&this._addToQueue(e,t),this._hasListeners(e)){var n=new CustomEvent(e,{detail:t});this._listeners[e].forEach((function(e){return e(n)}))}}}.init(e)}},850:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const s=i(n(645)),c=n(857),u=n(612),l=c.eventbus(window.eventChannel||"c432556660722ff93cefb5a932e550b7"),{newDeepLink:f}=u.eventBusEvents,d=window.app;function p(){return!document.getElementById("calculator-app")&&!document.getElementsByClassName("calculator-service").length}function _(){return a(this,void 0,void 0,(function*(){const e=new URLSearchParams(window.location.search),t=s.default.getSavedChannel(),n={seo:d.config.seoChannelHash,default:d.config.channelHash,saved:t,calculator:d.config.calculatorChannelHash},r=s.getNewChannelHash({urlParams:e,referrer:document.referrer,channelHashes:n,forceChannel:"true"===d.config.forceChannel});s.default.setChannel(r),s.default.invalidatePublisherParams(t,r),s.default.setGoogleClickIdentifier(e);const o=new URLSearchParams;o.set("lang",d.config.lang),o.set("document_referrer",document.referrer),o.set("document_location",document.location.href),o.set("client_milliseconds_since_epoch",(new Date).getTime().toString()),o.set("channel_hash",r),o.set("client_bundle_identifier",d.config.clientBundleIdentifier),o.set("user_device_hash",s.getUserDeviceHash());const i=s.default.getAnalyticsClientID();i&&o.set("analytics_client_id",i);const c=s.default.getGoogleClickIdentifier();c&&o.set("google_click_id",c);const u=yield function(e,t){return a(this,void 0,void 0,(function*(){const n=`${d.config.apiUrl}/api/v2/impression`,r={method:"GET",credentials:"include"};return yield fetch(h(n,e),r).then((e=>e.json())).then((e=>e)).catch((()=>{s.default.setChannel(d.config.channelHash),s.default.invalidatePublisherParams(t,d.config.channelHash),e.set("channel_hash",d.config.channelHash),fetch(h(n,e),r)}))}))}(o,t);u&&u.impression_hash&&(window.impression_hash=u.impression_hash),l.emit(f)}))}function h(e,t){return`${e}?${t.toString()}`}"complete"===document.readyState||"interactive"===document.readyState?p()&&_():document.addEventListener("DOMContentLoaded",(()=>{p()&&_()}))}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var r={};return(()=>{"use strict";var e=r;Object.defineProperty(e,"__esModule",{value:!0}),n(850)})(),r})()}}]);
//# sourceMappingURL=fanalytics.72c8b31504a607c3d4c5.js.map